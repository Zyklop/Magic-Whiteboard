using AForge.Imaging.Filters;
using HSR.PresentationWriter.DataSources;
using System;
using System.Diagnostics;
using System.Drawing;
using System.Threading;

namespace HSR.PresentationWriter.Tester
{
    class Program
    {
        static void Main(string[] args)
        {
            Bitmap backgroundFrame = new Bitmap(@"c:\temp\images\1_source16.bmp");
            Bitmap currentFrame = new Bitmap(@"c:\temp\images\2_overlay16.bmp");

            Difference differenceFilter = new Difference(backgroundFrame);
            Bitmap diffImage = differenceFilter.Apply(currentFrame);
            diffImage.Save(@"c:\temp\images\3_diff16.bmp");

            Grayscale grayFilter = new Grayscale(1, 0, 0);
            Bitmap grayImage = grayFilter.Apply(diffImage);
            grayImage.Save(@"c:\temp\images\4_grey16.bmp");

            IFilter thresholdFilter = new Threshold(50);
            Bitmap tresholdImage = thresholdFilter.Apply(grayImage);
            tresholdImage.Save(@"c:\temp\images\5_treshold16.bmp");
        }
    }
}